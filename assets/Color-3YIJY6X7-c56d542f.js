import{e as E,d as M,T as j,F as A,I as D,g as U}from"./DocsRenderer-EYKKDMVH-6586a0ed.js";import{r as b,R as g}from"./index-8db94870.js";import{Z,H as q,u as J}from"./index-b36ebdc5.js";import{c as p}from"./index-890dd1b5.js";import{g as K}from"./_commonjsHelpers-042e6b4d.js";import{_ as Q,i as P}from"./_baseIsEqual-316546b8.js";import{i as Y}from"./_getPrototype-9fe2f06d.js";import"./iframe-32640630.js";import"../sb-preview/runtime.js";import"./index-d475d2ea.js";import"./index-8ce4a492.js";import"./index-d37d4223.js";import"./extends-98964cd2.js";import"./uniq-2266aad4.js";import"./index-356e4a49.js";import"./client-47475fc2.js";var ee=Q,te=function(){return ee.Date.now()},re=te,ae=/\s/;function ie(e){for(var t=e.length;t--&&ae.test(e.charAt(t)););return t}var ne=ie,se=ne,oe=/^\s+/;function le(e){return e&&e.slice(0,se(e)+1).replace(oe,"")}var de=le,ue=de,H=P,ce=Y,B=0/0,fe=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,he=/^0o[0-7]+$/i,ge=parseInt;function pe(e){if(typeof e=="number")return e;if(ce(e))return B;if(H(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=H(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ue(e);var r=me.test(e);return r||he.test(e)?ge(e.slice(2),r?2:8):fe.test(e)?B:+e}var be=pe,xe=P,O=re,N=be,$e="Expected a function",Ee=Math.max,ve=Math.min;function ye(e,t,r){var n,i,s,l,a,u,f=0,h=!1,d=!1,o=!0;if(typeof e!="function")throw new TypeError($e);t=N(t)||0,xe(r)&&(h=!!r.leading,d="maxWait"in r,s=d?Ee(N(r.maxWait)||0,t):s,o="trailing"in r?!!r.trailing:o);function x(c){var $=n,y=i;return n=i=void 0,f=c,l=e.apply(y,$),l}function w(c){return f=c,a=setTimeout(m,t),h?x(c):l}function I(c){var $=c-u,y=c-f,W=t-$;return d?ve(W,s-y):W}function k(c){var $=c-u,y=c-f;return u===void 0||$>=t||$<0||d&&y>=s}function m(){var c=O();if(k(c))return _(c);a=setTimeout(m,I(c))}function _(c){return a=void 0,o&&n?x(c):(n=i=void 0,l)}function G(){a!==void 0&&clearTimeout(a),f=0,n=u=i=a=void 0}function V(){return a===void 0?l:_(O())}function R(){var c=O(),$=k(c);if(n=arguments,i=this,u=c,$){if(a===void 0)return w(u);if(d)return clearTimeout(a),a=setTimeout(m,t),x(u)}return a===void 0&&(a=setTimeout(m,t)),l}return R.cancel=G,R.flush=V,R}var we=ye,ke=we,_e=P,Ce="Expected a function";function Te(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(Ce);return _e(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),ke(e,t,{leading:n,maxWait:t,trailing:i})}var Se=Te;const Ie=K(Se);var Re=E.div({position:"relative",maxWidth:250}),Oe=E(M)({position:"absolute",zIndex:1,top:4,left:4}),Le=E.div({width:200,margin:5,".react-colorful__saturation":{borderRadius:"4px 4px 0 0"},".react-colorful__hue":{boxShadow:"inset 0 0 0 1px rgb(0 0 0 / 5%)"},".react-colorful__last-control":{borderRadius:"0 0 4px 4px"}}),Pe=E(j)(({theme:e})=>({fontFamily:e.typography.fonts.base})),We=E.div({display:"grid",gridTemplateColumns:"repeat(9, 16px)",gap:6,padding:3,marginTop:5,width:200}),He=E.div(({theme:e,active:t})=>({width:16,height:16,boxShadow:t?`${e.appBorderColor} 0 0 0 1px inset, ${e.textMutedColor}50 0 0 0 4px`:`${e.appBorderColor} 0 0 0 1px inset`,borderRadius:e.appBorderRadius})),Be=`url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')`,X=({value:e,active:t,onClick:r,style:n,...i})=>{let s=`linear-gradient(${e}, ${e}), ${Be}, linear-gradient(#fff, #fff)`;return g.createElement(He,{...i,active:t,onClick:r,style:{...n,backgroundImage:s}})},Ne=E(A.Input)(({theme:e})=>({width:"100%",paddingLeft:30,paddingRight:30,boxSizing:"border-box",fontFamily:e.typography.fonts.base})),Xe=E(D)(({theme:e})=>({position:"absolute",zIndex:1,top:6,right:7,width:20,height:20,padding:4,boxSizing:"border-box",cursor:"pointer",color:e.input.color})),z=(e=>(e.RGB="rgb",e.HSL="hsl",e.HEX="hex",e))(z||{}),C=Object.values(z),Fe=/\(([0-9]+),\s*([0-9]+)%?,\s*([0-9]+)%?,?\s*([0-9.]+)?\)/,Me=/^\s*rgba?\(([0-9]+),\s*([0-9]+),\s*([0-9]+),?\s*([0-9.]+)?\)\s*$/i,ze=/^\s*hsla?\(([0-9]+),\s*([0-9]+)%,\s*([0-9]+)%,?\s*([0-9.]+)?\)\s*$/i,L=/^\s*#?([0-9a-f]{3}|[0-9a-f]{6})\s*$/i,Ge=/^\s*#?([0-9a-f]{3})\s*$/i,Ve={hex:Z,rgb:q,hsl:J},T={hex:"transparent",rgb:"rgba(0, 0, 0, 0)",hsl:"hsla(0, 0%, 0%, 0)"},F=e=>{let t=e==null?void 0:e.match(Fe);if(!t)return[0,0,0,1];let[,r,n,i,s=1]=t;return[r,n,i,s].map(Number)},v=e=>{if(!e)return;let t=!0;if(Me.test(e)){let[l,a,u,f]=F(e),[h,d,o]=p.rgb.hsl([l,a,u])||[0,0,0];return{valid:t,value:e,keyword:p.rgb.keyword([l,a,u]),colorSpace:"rgb",rgb:e,hsl:`hsla(${h}, ${d}%, ${o}%, ${f})`,hex:`#${p.rgb.hex([l,a,u]).toLowerCase()}`}}if(ze.test(e)){let[l,a,u,f]=F(e),[h,d,o]=p.hsl.rgb([l,a,u])||[0,0,0];return{valid:t,value:e,keyword:p.hsl.keyword([l,a,u]),colorSpace:"hsl",rgb:`rgba(${h}, ${d}, ${o}, ${f})`,hsl:e,hex:`#${p.hsl.hex([l,a,u]).toLowerCase()}`}}let r=e.replace("#",""),n=p.keyword.rgb(r)||p.hex.rgb(r),i=p.rgb.hsl(n),s=e;if(/[^#a-f0-9]/i.test(e)?s=r:L.test(e)&&(s=`#${r}`),s.startsWith("#"))t=L.test(s);else try{p.keyword.hex(s)}catch{t=!1}return{valid:t,value:s,keyword:p.rgb.keyword(n),colorSpace:"hex",rgb:`rgba(${n[0]}, ${n[1]}, ${n[2]}, 1)`,hsl:`hsla(${i[0]}, ${i[1]}%, ${i[2]}%, 1)`,hex:s}},je=(e,t,r)=>{if(!e||!(t!=null&&t.valid))return T[r];if(r!=="hex")return(t==null?void 0:t[r])||T[r];if(!t.hex.startsWith("#"))try{return`#${p.keyword.hex(t.hex)}`}catch{return T.hex}let n=t.hex.match(Ge);if(!n)return L.test(t.hex)?t.hex:T.hex;let[i,s,l]=n[1].split("");return`#${i}${i}${s}${s}${l}${l}`},Ae=(e,t)=>{let[r,n]=b.useState(e||""),[i,s]=b.useState(()=>v(r)),[l,a]=b.useState((i==null?void 0:i.colorSpace)||"hex");b.useEffect(()=>{let d=e||"",o=v(d);n(d),s(o),a((o==null?void 0:o.colorSpace)||"hex")},[e]);let u=b.useMemo(()=>je(r,i,l).toLowerCase(),[r,i,l]),f=b.useCallback(d=>{let o=v(d),x=(o==null?void 0:o.value)||d||"";n(x),x===""&&(s(void 0),t(void 0)),o&&(s(o),a(o.colorSpace),t(o.value))},[t]),h=b.useCallback(()=>{let d=C.indexOf(l)+1;d>=C.length&&(d=0),a(C[d]);let o=(i==null?void 0:i[C[d]])||"";n(o),t(o)},[i,l,t]);return{value:r,realValue:u,updateValue:f,color:i,colorSpace:l,cycleColorSpace:h}},S=e=>e.replace(/\s*/,"").toLowerCase(),De=(e,t,r)=>{let[n,i]=b.useState(t!=null&&t.valid?[t]:[]);b.useEffect(()=>{t===void 0&&i([])},[t]);let s=b.useMemo(()=>(e||[]).map(a=>typeof a=="string"?v(a):a.title?{...v(a.color),keyword:a.title}:v(a.color)).concat(n).filter(Boolean).slice(-27),[e,n]),l=b.useCallback(a=>{a!=null&&a.valid&&(s.some(u=>S(u[r])===S(a[r]))||i(u=>u.concat(a)))},[r,s]);return{presets:s,addPreset:l}},Ue=({name:e,value:t,onChange:r,onFocus:n,onBlur:i,presetColors:s,startOpen:l=!1})=>{let a=b.useCallback(Ie(r,200),[r]),{value:u,realValue:f,updateValue:h,color:d,colorSpace:o,cycleColorSpace:x}=Ae(t,a),{presets:w,addPreset:I}=De(s,d,o),k=Ve[o];return g.createElement(Re,null,g.createElement(Oe,{startOpen:l,closeOnOutsideClick:!0,onVisibleChange:()=>I(d),tooltip:g.createElement(Le,null,g.createElement(k,{color:f==="transparent"?"#000000":f,onChange:h,onFocus:n,onBlur:i}),w.length>0&&g.createElement(We,null,w.map((m,_)=>g.createElement(M,{key:`${m.value}-${_}`,hasChrome:!1,tooltip:g.createElement(Pe,{note:m.keyword||m.value})},g.createElement(X,{value:m[o],active:d&&S(m[o])===S(d[o]),onClick:()=>h(m.value)})))))},g.createElement(X,{value:f,style:{margin:4}})),g.createElement(Ne,{id:U(e),value:u,onChange:m=>h(m.target.value),onFocus:m=>m.target.select(),placeholder:"Choose color..."}),u?g.createElement(Xe,{icon:"markup",onClick:x}):null)},ut=Ue;export{Ue as ColorControl,ut as default};
//# sourceMappingURL=Color-3YIJY6X7-c56d542f.js.map
